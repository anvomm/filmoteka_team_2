!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},a={},i=t.parcelRequireb85b;null==i&&((i=function(e){if(e in r)return r[e].exports;if(e in a){var t=a[e];delete a[e];var i={id:e,exports:{}};return r[e]=i,t.call(i.exports,i,i.exports),i.exports}var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){a[e]=t},t.parcelRequireb85b=i);var n=i("eZ7d6"),l=i("2TvXO"),o=i("4Nugj"),s=e(i("WMajR")).template({compiler:[8,">= 4.3.0"],main:function(e,t,r,a,i){var n,l=e.lambda,o=e.escapeExpression,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"<li class='library-default-film-card' data-action='"+o(l(null!=t?s(t,"id"):t,t))+"' data-modal-open>\n\n    <img class='library-default-film-card__img' src='https://image.tmdb.org/t/p/w500"+o(l(null!=t?s(t,"poster_path"):t,t))+"' alt='"+o("function"==typeof(n=null!=(n=s(r,"original_title")||(null!=t?s(t,"original_title"):t))?n:e.hooks.helperMissing)?n.call(null!=t?t:e.nullContext||{},{name:"original_title",hash:{},data:i,loc:{start:{line:3,column:111},end:{line:3,column:129}}}):n)+" '\n        width='190'\n        onerror=\"this.onerror=null;this.src='https://ik.imagekit.io/tc8jxffbcvf/default-movie-portrait_EmJUj9Tda5wa.jpg?tr=fo-auto,di-';\" />\n\n    <div class='library-default-film-card__wrapper'>\n        <h2 class='library-default-film-card__title'>"+o(l(null!=t?s(t,"title"):t,t))+" "+o(l(null!=t?s(t,"name"):t,t))+" ("+o(l(null!=t?s(t,"release_date"):t,t))+")</h2>\n        <p class='library-default-film-card__discription'>\n            <span class='library-default-film-card__genres'>"+o(l(null!=t?s(t,"genre_ids"):t,t))+"</span>\n        </p>\n    </div>\n\n</li>"},useData:!0});i("i7QqT");var c=i("kitKc"),u=i("5xtVg"),d=(0,o.default)();function f(){function t(){return(t=e(n)(e(l).mark((function t(r){var a,i;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.fetchGenres)();case 2:a=e.sent,r.forEach((function(e){var t=[];e.genre_ids.forEach((function(e){var r=a.find((function(t){return t.id===e}));t.push(r.name)})),t.length>2&&t.splice(2,t.length-2,"Other"),e.genre_ids=t.join(", ")})),i=r.map((function(e){return s(e)})).slice(0,6).join(""),d.libraryMoviesList&&d.libraryMoviesList.insertAdjacentHTML("beforeend",i),(0,o.default)().filmsElements.forEach((function(e){return e.addEventListener("click",u.onOpenModal)}));case 7:case"end":return e.stop()}}),t)})))).apply(this,arguments)}(0,c.fetchTrendingMovies)(3).then((function(e){e&&function(e){t.apply(this,arguments)}(e.results)}))}o=i("4Nugj");var p=i("i7QqT");u=i("5xtVg");console.log("https://image.tmdb.org/t/p/w500/wdbiMjXd4CxPfCx4r4Jfy8cGec0.jpg".slice(31));var g=(0,o.default)(),h="watched",m="queue";function y(){if(0!==JSON.parse(localStorage.getItem(h)).length){var e=JSON.parse(localStorage.getItem(h)).map((function(e){return(0,p.default)(e)})).join("");v(),g.libraryMoviesList&&g.libraryMoviesList.insertAdjacentHTML("beforeend",e)}_()}function v(){g.libraryMoviesList&&(g.libraryMoviesList.innerHTML=""),g.libraryDefaultContainer&&(g.libraryDefaultContainer.style.display="none")}function b(){g.libraryMoviesList&&(g.libraryMoviesList.innerHTML=""),g.libraryDefaultContainer&&(g.libraryDefaultContainer.style.display="flex")}function _(){(0,o.default)().filmsElements.forEach((function(e){return e.addEventListener("click",u.onOpenModal)}))}localStorage.setItem(h,JSON.stringify([])),localStorage.setItem(m,JSON.stringify([{poster_path:"/5EB9LAzIePTQoMpg2M1GNJpNn9s.jpg",id:"11111",title:"King Lines",vote_average:"8.249",vote_count:"177",popularity:"290.839",overview:"In the late 1990s, the arrival of elderly invalid Patrick into Marion and Tom’s home triggers the exploration of seismic events from 40 years previous: the passionate relationship between Tom and Patrick at a time when homosexuality was illegal.",genre_ids:"Adventure, Documentary",release_date:"2022-11-04"},{poster_path:"/9nAWnMNvFrhSmytB2VLw3OR7BJ3.jpg",id:"2222",title:"Christine",vote_average:"8.249",vote_count:"177",popularity:"290.839",overview:"In the late 1990s, the arrival of elderly invalid Patrick into Marion and Tom’s home triggers the exploration of seismic events from 40 years previous: the passionate relationship between Tom and Patrick at a time when homosexuality was illegal.",genre_ids:"Drama",release_date:"2022-11-04"},{poster_path:"/8PT4sAcneQ7MtZ1Mqoe2EyOJHmZ.jpg",id:"2323",title:"Field of Dreams",vote_average:"8.249",vote_count:"177",popularity:"290.839",overview:"In the late 1990s, the arrival of elderly invalid Patrick into Marion and Tom’s home triggers the exploration of seismic events from 40 years previous: the passionate relationship between Tom and Patrick at a time when homosexuality was illegal.",genre_ids:"Drama, Romance",release_date:"2022-11-04"}])),JSON.parse(!localStorage.getItem(h))||0===JSON.parse(localStorage.getItem(h)).length?f():y(),g.libraryWatchedBtn&&g.libraryWatchedBtn.addEventListener("click",(function(){b(),0===JSON.parse(localStorage.getItem(h)).length&&f();y(),(0,o.default)().filmsElements.forEach((function(e){return e.addEventListener("click",u.onOpenModal)})),g.libraryWatchedBtn&&g.libraryWatchedBtn.classList.add("header-library__btn-current");g.libraryQueueBtn&&g.libraryQueueBtn.classList.remove("header-library__btn-current")})),g.libraryQueueBtn&&g.libraryQueueBtn.addEventListener("click",(function(){g.libraryQueueBtn&&g.libraryQueueBtn.classList.add("header-library__btn-current");g.libraryWatchedBtn&&g.libraryWatchedBtn.classList.remove("header-library__btn-current");JSON.parse(localStorage.getItem(m))&&0!==JSON.parse(localStorage.getItem(m)).length||(b(),f());!function(){if(0!==JSON.parse(localStorage.getItem(m)).length){var e=JSON.parse(localStorage.getItem(m)).map((function(e){return(0,p.default)(e)})).join("");v(),g.libraryMoviesList&&g.libraryMoviesList.insertAdjacentHTML("beforeend",e)}_()}()}))}();
//# sourceMappingURL=library.277a70a4.js.map
