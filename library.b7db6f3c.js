!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},n={},a=t.parcelRequireb85b;null==a&&((a=function(e){if(e in r)return r[e].exports;if(e in n){var t=n[e];delete n[e];var a={id:e,exports:{}};return r[e]=a,t.call(a.exports,a,a.exports),a.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){n[e]=t},t.parcelRequireb85b=a);var i=a("eZ7d6"),l=a("2TvXO"),o=a("4Nugj"),s=e(a("WMajR")).template({compiler:[8,">= 4.3.0"],main:function(e,t,r,n,a){var i,l=e.lambda,o=e.escapeExpression,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"<li class='library-default-film-card' data-action='"+o(l(null!=t?s(t,"id"):t,t))+"' data-modal-open>\n\n    <img class='library-default-film-card__img' src='https://image.tmdb.org/t/p/w500"+o(l(null!=t?s(t,"poster_path"):t,t))+"' alt='"+o("function"==typeof(i=null!=(i=s(r,"original_title")||(null!=t?s(t,"original_title"):t))?i:e.hooks.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"original_title",hash:{},data:a,loc:{start:{line:3,column:111},end:{line:3,column:129}}}):i)+" '\n        width='190'\n        onerror=\"this.onerror=null;this.src='https://ik.imagekit.io/tc8jxffbcvf/default-movie-portrait_EmJUj9Tda5wa.jpg?tr=fo-auto,di-';\" />\n\n    <div class='library-default-film-card__wrapper'>\n        <h2 class='library-default-film-card__title'>"+o(l(null!=t?s(t,"title"):t,t))+" "+o(l(null!=t?s(t,"name"):t,t))+" ("+o(l(null!=t?s(t,"release_date"):t,t))+")</h2>\n        <p class='library-default-film-card__discription'>\n            <span class='library-default-film-card__genres'>"+o(l(null!=t?s(t,"genre_ids"):t,t))+"</span>\n        </p>\n    </div>\n\n</li>"},useData:!0});a("i7QqT");var c=a("kitKc"),u=a("5xtVg"),d=(0,o.default)();function f(){function t(){return(t=e(i)(e(l).mark((function t(r){var n,a;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.fetchGenres)();case 2:n=e.sent,r.forEach((function(e){var t=[];e.genre_ids.forEach((function(e){var r=n.find((function(t){return t.id===e}));t.push(r.name)})),t.length>2&&t.splice(2,t.length-2,"Other"),e.genre_ids=t.join(", ")})),a=r.map((function(e){return s(e)})).slice(0,6).join(""),d.libraryMoviesList&&d.libraryMoviesList.insertAdjacentHTML("beforeend",a),(0,o.default)().filmsElements.forEach((function(e){return e.addEventListener("click",u.onOpenModal)}));case 7:case"end":return e.stop()}}),t)})))).apply(this,arguments)}(0,c.fetchTrendingMovies)(3).then((function(e){e&&function(e){t.apply(this,arguments)}(e.results)}))}o=a("4Nugj");var p=a("i7QqT");u=a("5xtVg");console.log("https://image.tmdb.org/t/p/w500/wdbiMjXd4CxPfCx4r4Jfy8cGec0.jpg".slice(31));var b=(0,o.default)(),g="watched",y="queue";function h(){if(0!==JSON.parse(localStorage.getItem(g)).length){var e=JSON.parse(localStorage.getItem(g)).map((function(e){return(0,p.default)(e)})).join("");m(),b.libraryMoviesList&&b.libraryMoviesList.insertAdjacentHTML("beforeend",e)}_()}function m(){b.libraryMoviesList&&(b.libraryMoviesList.innerHTML=""),b.libraryDefaultContainer&&(b.libraryDefaultContainer.style.display="none")}function v(){b.libraryMoviesList&&(b.libraryMoviesList.innerHTML=""),b.libraryDefaultContainer&&(b.libraryDefaultContainer.style.display="flex")}function _(){(0,o.default)().filmsElements.forEach((function(e){return e.addEventListener("click",u.onOpenModal)}))}JSON.parse(!localStorage.getItem(g))||0===JSON.parse(localStorage.getItem(g)).length?f():h(),b.libraryWatchedBtn&&b.libraryWatchedBtn.addEventListener("click",(function(){v(),0===JSON.parse(localStorage.getItem(g)).length&&f();h(),(0,o.default)().filmsElements.forEach((function(e){return e.addEventListener("click",u.onOpenModal)})),b.libraryWatchedBtn&&b.libraryWatchedBtn.classList.add("header-library__btn-current");b.libraryQueueBtn&&b.libraryQueueBtn.classList.remove("header-library__btn-current")})),b.libraryQueueBtn&&b.libraryQueueBtn.addEventListener("click",(function(){b.libraryQueueBtn&&b.libraryQueueBtn.classList.add("header-library__btn-current");b.libraryWatchedBtn&&b.libraryWatchedBtn.classList.remove("header-library__btn-current");JSON.parse(localStorage.getItem(y))&&0!==JSON.parse(localStorage.getItem(y)).length||(v(),f());!function(){if(0!==JSON.parse(localStorage.getItem(y)).length){var e=JSON.parse(localStorage.getItem(y)).map((function(e){return(0,p.default)(e)})).join("");m(),b.libraryMoviesList&&b.libraryMoviesList.insertAdjacentHTML("beforeend",e)}_()}()}))}();
//# sourceMappingURL=library.b7db6f3c.js.map
