function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},r={},i=t.parcelRequireb85b;null==i&&((i=function(e){if(e in a)return a[e].exports;if(e in r){var t=r[e];delete r[e];var i={id:e,exports:{}};return a[e]=i,t.call(i.exports,i,i.exports),i.exports}var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){r[e]=t},t.parcelRequireb85b=i);var n=i("krGWQ");var l=e(i("amrNH")).template({compiler:[8,">= 4.3.0"],main:function(e,t,a,r,i){var n,l=e.lambda,o=e.escapeExpression,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"<li class='library-default-film-card' data-action='"+o(l(null!=t?s(t,"id"):t,t))+"' data-modal-open>\n\n    <img class='library-default-film-card__img' src='https://image.tmdb.org/t/p/w500"+o(l(null!=t?s(t,"poster_path"):t,t))+"' alt='"+o("function"==typeof(n=null!=(n=s(a,"original_title")||(null!=t?s(t,"original_title"):t))?n:e.hooks.helperMissing)?n.call(null!=t?t:e.nullContext||{},{name:"original_title",hash:{},data:i,loc:{start:{line:3,column:111},end:{line:3,column:129}}}):n)+" '\n        width='190'\n        onerror=\"this.onerror=null;this.src='https://ik.imagekit.io/tc8jxffbcvf/default-movie-portrait_EmJUj9Tda5wa.jpg?tr=fo-auto,di-';\" />\n\n    <div class='library-default-film-card__wrapper'>\n        <h2 class='library-default-film-card__title'>"+o(l(null!=t?s(t,"title"):t,t))+" "+o(l(null!=t?s(t,"name"):t,t))+" ("+o(l(null!=t?s(t,"release_date"):t,t))+")</h2>\n        <p class='library-default-film-card__discription'>\n            <span class='library-default-film-card__genres'>"+o(l(null!=t?s(t,"genre_ids"):t,t))+"</span>\n        </p>\n    </div>\n\n</li>"},useData:!0});i("fUAmO");var o=i("1TPJ0"),s=i("bTcpz");const c=(0,n.default)();function d(){(0,o.fetchTrendingMovies)(3).then((e=>{e&&async function(e){const t=await(0,o.fetchGenres)();e.forEach((e=>{const a=[];e.genre_ids.forEach((e=>{const r=t.find((t=>t.id===e));a.push(r.name)})),a.length>2&&a.splice(2,a.length-2,"Other"),e.genre_ids=a.join(", ")}));const a=e.map((e=>l(e))).slice(0,6).join("");c.libraryMoviesList&&c.libraryMoviesList.insertAdjacentHTML("beforeend",a);(0,n.default)().filmsElements.forEach((e=>e.addEventListener("click",s.onOpenModal)))}(e.results)}))}n=i("krGWQ");var u=i("fUAmO");s=i("bTcpz");console.log("https://image.tmdb.org/t/p/w500/wdbiMjXd4CxPfCx4r4Jfy8cGec0.jpg".slice(31));const f=(0,n.default)();function p(){if(0!==JSON.parse(localStorage.getItem("watched")).length){const e=JSON.parse(localStorage.getItem("watched")).map((e=>(0,u.default)(e))).join("");h(),f.libraryMoviesList&&f.libraryMoviesList.insertAdjacentHTML("beforeend",e)}g()}function h(){f.libraryMoviesList&&(f.libraryMoviesList.innerHTML=""),f.libraryDefaultContainer&&(f.libraryDefaultContainer.style.display="none")}function m(){f.libraryMoviesList&&(f.libraryMoviesList.innerHTML=""),f.libraryDefaultContainer&&(f.libraryDefaultContainer.style.display="flex")}function g(){(0,n.default)().filmsElements.forEach((e=>e.addEventListener("click",s.onOpenModal)))}localStorage.setItem("watched",JSON.stringify([])),localStorage.setItem("queue",JSON.stringify([{poster_path:"/5EB9LAzIePTQoMpg2M1GNJpNn9s.jpg",id:"11111",title:"King Lines",vote_average:"8.249",vote_count:"177",popularity:"290.839",overview:"In the late 1990s, the arrival of elderly invalid Patrick into Marion and Tom’s home triggers the exploration of seismic events from 40 years previous: the passionate relationship between Tom and Patrick at a time when homosexuality was illegal.",genre_ids:"Adventure, Documentary",release_date:"2022-11-04"},{poster_path:"/9nAWnMNvFrhSmytB2VLw3OR7BJ3.jpg",id:"2222",title:"Christine",vote_average:"8.249",vote_count:"177",popularity:"290.839",overview:"In the late 1990s, the arrival of elderly invalid Patrick into Marion and Tom’s home triggers the exploration of seismic events from 40 years previous: the passionate relationship between Tom and Patrick at a time when homosexuality was illegal.",genre_ids:"Drama",release_date:"2022-11-04"},{poster_path:"/8PT4sAcneQ7MtZ1Mqoe2EyOJHmZ.jpg",id:"2323",title:"Field of Dreams",vote_average:"8.249",vote_count:"177",popularity:"290.839",overview:"In the late 1990s, the arrival of elderly invalid Patrick into Marion and Tom’s home triggers the exploration of seismic events from 40 years previous: the passionate relationship between Tom and Patrick at a time when homosexuality was illegal.",genre_ids:"Drama, Romance",release_date:"2022-11-04"}])),JSON.parse(!localStorage.getItem("watched"))||0===JSON.parse(localStorage.getItem("watched")).length?d():p(),f.libraryWatchedBtn&&f.libraryWatchedBtn.addEventListener("click",(function(){m(),0===JSON.parse(localStorage.getItem("watched")).length&&d();p(),(0,n.default)().filmsElements.forEach((e=>e.addEventListener("click",s.onOpenModal))),f.libraryWatchedBtn&&f.libraryWatchedBtn.classList.add("header-library__btn-current");f.libraryQueueBtn&&f.libraryQueueBtn.classList.remove("header-library__btn-current")})),f.libraryQueueBtn&&f.libraryQueueBtn.addEventListener("click",(function(){f.libraryQueueBtn&&f.libraryQueueBtn.classList.add("header-library__btn-current");f.libraryWatchedBtn&&f.libraryWatchedBtn.classList.remove("header-library__btn-current");JSON.parse(localStorage.getItem("queue"))&&0!==JSON.parse(localStorage.getItem("queue")).length||(m(),d());!function(){if(0!==JSON.parse(localStorage.getItem("queue")).length){const e=JSON.parse(localStorage.getItem("queue")).map((e=>(0,u.default)(e))).join("");h(),f.libraryMoviesList&&f.libraryMoviesList.insertAdjacentHTML("beforeend",e)}g()}()}));
//# sourceMappingURL=library.95a62143.js.map
