{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,S,iECAAD,EAAAC,EAAA,S,0EA8CeC,I,OAAAC,EAAUC,MAAAC,KAAAC,U,UAAVH,I,OAAAA,EAAfI,EAAAP,EAAA,CAAAO,EAAAC,GAAAC,MAAA,SAAAC,I,IAQYC,EASAC,E,qEAhBVC,OAAOC,SAAS,CACdC,IAAK,EACLC,KAAM,IAGsB,aAA1BC,EAAAC,YAAYC,UAAwB,C,0CAEjB,EAAAC,EAAAC,qBAAoBJ,EAAAC,YAAYI,M,OAA7CX,EAAIY,EAAAC,MACV,EAAAC,EAAAC,YAAWf,EAAMM,EAAAC,YAAYI,M,gDAE7BK,QAAQC,IAAGL,EAAAM,I,WAIe,WAA1BZ,EAAAC,YAAYC,UAAsB,C,4CAEf,EAAAC,EAAAU,mBACjBb,EAAAC,YAAYa,YACZd,EAAAC,YAAYI,M,QAFRV,EAAIW,EAAAC,MAIV,EAAAC,EAAAC,YAAWd,EAAMK,EAAAC,YAAYI,M,mDAE7BK,QAAQC,IAAGL,EAAAS,I,kEAvBQ5B,MAAAC,KAAAC,U,EAxCzB,EAAA2B,EAAAC,WAAWC,gBAAgBC,iBAAiB,SAwB5C,SAAoBC,GAElB,GADAA,EAAEC,iBACwB,WAAtBD,EAAEE,OAAOC,SAAuB,OAEpC,GADAb,QAAQC,IAAIS,EAAEE,OAAOE,QAAQC,QACG,MAA5BL,EAAEE,OAAOE,QAAQC,OAAgB,CACnC,IAAMpB,EAAOqB,OAAON,EAAEE,OAAOE,QAAQC,QAKrCzB,EAAAC,YAAYI,KAAOA,EACnBK,QAAQC,IAAIX,EAAAC,YAAYI,KAAMA,GAC9BpB,G,MAnCJ,EAAA+B,EAAAC,WAAWU,WAAWR,iBAAiB,SAavC,WAKEnB,EAAAC,YAAY2B,gBAEZ3C,G,KAnBF,EAAA+B,EAAAC,WAAWY,UAAUV,iBAAiB,SAEtC,WAMEnB,EAAAC,YAAY6B,gBACZ7C,G,wBDPW,EAAA+B,EAAAC,YAMb,EAAAd,EAAA4B,eAAcC,M,EAAK1C,EAAAP,EAAA,CAAAO,EAAAC,GAAAC,MAAA,SAAAC,EAAMC,G,kFACIA,E,OAA3BM,EAAAC,YAAYgC,OAAM3B,EAAAC,K,oDADKb,G,mCAIzB,EAAAS,EAAAC,qBAAoBJ,EAAAC,YAAYI,MAAM2B,MAAK,SAAAtC,GACzCM,EAAAC,YAAYC,UAAY,WACpBR,IACF,EAAAc,EAAAC,YAAWf,EAAMM,EAAAC,YAAYI,K","sources":["src/js/mainPage.js","src/js/paginationEvents.js"],"sourcesContent":["import { siteConfigs } from './siteConfigs';\nimport { fetchTrendingMovies } from './fetchMovies';\nimport { renderList } from './renderFilmList';\n// import { stylizePaginationOnStart } from './pagination';\n\nimport refsList from './refs';\n\nimport './paginationEvents';\nimport { fetchGenres } from './fetchMovies';\n\nconst refs = refsList();\n// refs.pagination.style.display = 'none';\n// let page = 1;\n\n\n\nfetchGenres().then(async data => {\n  siteConfigs.geners = await data;\n});\n\nfetchTrendingMovies(siteConfigs.page).then(data => {\n  siteConfigs.lastFetch = 'TRENDING';\n  if (data) {\n    renderList(data, siteConfigs.page);\n    // stylizePaginationOnStart(data.page, data.total_pages); //data.page, data.total_pages 15 for test\n  }\n});\n","import refsList from './refs';\nimport { siteConfigs } from './siteConfigs';\n\nimport { fetchTrendingMovies, fetchMovieByQuery } from './fetchMovies';\nimport { renderList } from './renderFilmList';\n\nrefsList().paginationBlock.addEventListener('click', getNewPage);\nrefsList().rightArrow.addEventListener('click', rightBtnClick);\nrefsList().leftArrow.addEventListener('click', leftBtnClick);\n\nfunction leftBtnClick() {\n  //   if (siteConfigs.lastFetch === 'WATCHED')\n  //     siteConfigs.decrementWatchedPage();\n  //   if (siteConfigs.lastFetch === 'QUEUE')\n  //     siteConfigs.decrementQueuePage();\n\n  siteConfigs.decrementPage();\n  loadMovies();\n}\n\nfunction rightBtnClick() {\n  //   if (siteConfigs.lastFetch === 'WATCHED')\n  //     siteConfigs.incrementWatchedPage();\n  //   if (siteConfigs.lastFetch === 'QUEUE')\n  //     siteConfigs.incrementQueuePage();\n  siteConfigs.incrementPage();\n\n  loadMovies();\n}\n\nfunction getNewPage(e) {\n  e.preventDefault();\n  if (e.target.nodeName !== 'BUTTON') return;\n  console.log(e.target.dataset.number);\n  if (e.target.dataset.number !== '0') {\n    const page = Number(e.target.dataset.number);\n    // if (siteConfigs.lastFetch === 'WATCHED')\n    //   siteConfigs.watchedPage = page;\n    // if (siteConfigs.lastFetch === 'QUEUE')\n    //   siteConfigs.queuePage = page;\n    siteConfigs.page = page;\n    console.log(siteConfigs.page, page);\n    loadMovies();\n  }\n}\n\nasync function loadMovies() {\n  window.scrollTo({\n    top: 0,\n    left: 0,\n  });\n\n  if (siteConfigs.lastFetch === 'TRENDING') {\n    try {\n      const data = await fetchTrendingMovies(siteConfigs.page);\n      renderList(data, siteConfigs.page);\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  if (siteConfigs.lastFetch === 'SEARCH') {\n    try {\n      const data = await fetchMovieByQuery(\n        siteConfigs.searchQuery,\n        siteConfigs.page\n      );\n      renderList(data, siteConfigs.page);\n    } catch (error) {\n      console.log(error);\n    }\n  }\n  //   if (siteConfigs.lastFetch === 'WATCHED') {\n  //     try {\n  //       const data = await watchedTabClickHandler();\n  //     } catch (error) {\n  //       console.log(error);\n  //     }\n  //   }\n  //   if (siteConfigs.lastFetch === 'QUEUE') {\n  //     try {\n  //       const data = await queueTabClickHandler();\n  //     } catch (error) {\n  //       console.log(error);\n  //     }\n  //   }\n}\n"],"names":["$eZ7d6","parcelRequire","$5d2868e1b1a4458e$var$loadMovies","$5d2868e1b1a4458e$var$_loadMovies","apply","this","arguments","$parcel$interopDefault","$2TvXO","mark","_callee","data","data1","window","scrollTo","top","left","$2GA09","siteConfigs","lastFetch","$kitKc","fetchTrendingMovies","page","_ctx","sent","$5IyUS","renderList","console","log","t0","fetchMovieByQuery","searchQuery","t1","$4Nugj","default","paginationBlock","addEventListener","e","preventDefault","target","nodeName","dataset","number","Number","rightArrow","incrementPage","leftArrow","decrementPage","fetchGenres","then","geners"],"version":3,"file":"index.1421b9c8.js.map"}