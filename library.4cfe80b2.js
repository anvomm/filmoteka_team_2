function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},a={},n=t.parcelRequireb85b;null==n&&((n=function(e){if(e in r)return r[e].exports;if(e in a){var t=a[e];delete a[e];var n={id:e,exports:{}};return r[e]=n,t.call(n.exports,n,n.exports),n.exports}var l=new Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,t){a[e]=t},t.parcelRequireb85b=n);var l=n("krGWQ");var i=e(n("amrNH")).template({compiler:[8,">= 4.3.0"],main:function(e,t,r,a,n){var l,i=e.lambda,o=e.escapeExpression,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"<li class='library-default-film-card' data-action='"+o(i(null!=t?s(t,"id"):t,t))+"' data-modal-open>\n\n    <img class='library-default-film-card__img' src='https://image.tmdb.org/t/p/w500"+o(i(null!=t?s(t,"poster_path"):t,t))+"' alt='"+o("function"==typeof(l=null!=(l=s(r,"original_title")||(null!=t?s(t,"original_title"):t))?l:e.hooks.helperMissing)?l.call(null!=t?t:e.nullContext||{},{name:"original_title",hash:{},data:n,loc:{start:{line:3,column:111},end:{line:3,column:129}}}):l)+" '\n        width='190'\n        onerror=\"this.onerror=null;this.src='https://ik.imagekit.io/tc8jxffbcvf/default-movie-portrait_EmJUj9Tda5wa.jpg?tr=fo-auto,di-';\" />\n\n    <div class='library-default-film-card__wrapper'>\n        <h2 class='library-default-film-card__title'>"+o(i(null!=t?s(t,"title"):t,t))+" "+o(i(null!=t?s(t,"name"):t,t))+" ("+o(i(null!=t?s(t,"release_date"):t,t))+")</h2>\n        <p class='library-default-film-card__discription'>\n            <span class='library-default-film-card__genres'>"+o(i(null!=t?s(t,"genre_ids"):t,t))+"</span>\n        </p>\n    </div>\n\n</li>"},useData:!0});n("fUAmO");var o=n("1TPJ0"),s=n("bTcpz");const c=(0,l.default)();function d(){(0,o.fetchTrendingMovies)(3).then((e=>{e&&async function(e){const t=await(0,o.fetchGenres)();e.forEach((e=>{const r=[];e.genre_ids.forEach((e=>{const a=t.find((t=>t.id===e));r.push(a.name)})),r.length>2&&r.splice(2,r.length-2,"Other"),e.genre_ids=r.join(", ")}));const r=e.map((e=>i(e))).slice(0,6).join("");c.libraryMoviesList&&c.libraryMoviesList.insertAdjacentHTML("beforeend",r);(0,l.default)().filmsElements.forEach((e=>e.addEventListener("click",s.onOpenModal)))}(e.results)}))}l=n("krGWQ");var u=n("fUAmO");s=n("bTcpz");console.log("https://image.tmdb.org/t/p/w500/wdbiMjXd4CxPfCx4r4Jfy8cGec0.jpg".slice(31));const f=(0,l.default)();function p(){if(0!==JSON.parse(localStorage.getItem("watched")).length){const e=JSON.parse(localStorage.getItem("watched")).map((e=>(0,u.default)(e))).join("");b(),f.libraryMoviesList&&f.libraryMoviesList.insertAdjacentHTML("beforeend",e)}g()}function b(){f.libraryMoviesList&&(f.libraryMoviesList.innerHTML=""),f.libraryDefaultContainer&&(f.libraryDefaultContainer.style.display="none")}function y(){f.libraryMoviesList&&(f.libraryMoviesList.innerHTML=""),f.libraryDefaultContainer&&(f.libraryDefaultContainer.style.display="flex")}function g(){(0,l.default)().filmsElements.forEach((e=>e.addEventListener("click",s.onOpenModal)))}JSON.parse(!localStorage.getItem("watched"))||0===JSON.parse(localStorage.getItem("watched")).length?d():p(),f.libraryWatchedBtn&&f.libraryWatchedBtn.addEventListener("click",(function(){y(),0===JSON.parse(localStorage.getItem("watched")).length&&d();p(),(0,l.default)().filmsElements.forEach((e=>e.addEventListener("click",s.onOpenModal))),f.libraryWatchedBtn&&f.libraryWatchedBtn.classList.add("header-library__btn-current");f.libraryQueueBtn&&f.libraryQueueBtn.classList.remove("header-library__btn-current")})),f.libraryQueueBtn&&f.libraryQueueBtn.addEventListener("click",(function(){f.libraryQueueBtn&&f.libraryQueueBtn.classList.add("header-library__btn-current");f.libraryWatchedBtn&&f.libraryWatchedBtn.classList.remove("header-library__btn-current");JSON.parse(localStorage.getItem("queue"))&&0!==JSON.parse(localStorage.getItem("queue")).length||(y(),d());!function(){if(0!==JSON.parse(localStorage.getItem("queue")).length){const e=JSON.parse(localStorage.getItem("queue")).map((e=>(0,u.default)(e))).join("");b(),f.libraryMoviesList&&f.libraryMoviesList.insertAdjacentHTML("beforeend",e)}g()}()}));
//# sourceMappingURL=library.4cfe80b2.js.map
